<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dassa.mapper.QuestionMapper">
	<!-- 리스트조회 -->
  <select id="selectAllList" resultType="questionVO" parameterType="_int">		
  		select questions_index as questionsIndex,
  			questions_user_type as questionsUserType,
  			questions_title as questionsTitle,
  			questions_answer as questionsAnswer,
  			questions_writer as questionsWriter,
  			questions_reg_date as questionsRegDate,
  			questions_state as questionsState	
  			 from (select rownum as rnum, n.* from (select * from questions_tbl where questions_state='정상' 
<!--   			 and 
  			 <if test="code==0">notice_type='사용자'</if> 
  			 <if test="code==1">notice_type='부동산'</if> 
  			 <if test="code==2">notice_type='기사'</if>  -->
  			 order by rownum desc) n)
  			  where rnum between #{start} and #{end}
  </select>
  <select id="totalCount" resultType="_int">
  	select count(*) cnt from questions_tbl
  </select>
</mapper>
