<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dassa.mapper.DriverMapper">

		<select id="driverMyPage" parameterType="userVO" resultType="userVO">
		   select user_idx as userIdx,
				user_id as userId,
				user_pw as userPw,
				user_name as userName,
				user_phone as userPhone,
				user_email as userEmail,
				user_introduce as userIntroduce,
				registration_number as registrationNumber,
				user_car as userCar,
				image_name as userImageName,
				image_path as userImagePath,
				user_type as userType,
				social_id as socialId 
		  from user_tbl where user_id=#{userId} 
		</select>
	<update id="driverMypageUpdate" parameterType="userVO">
	update user_tbl set
	image_name=#{userImageName}, image_path=#{userImagePath}
		where user_id=#{userId}
	</update>
	<update id="driverMypageUpdateText" parameterType="userVO">
	update user_tbl set 
	user_name=#{userName},
	user_phone=#{userPhone},
	user_email=#{userEmail},
	user_introduce=#{userIntroduce},
	user_car=#{userCar}
		where user_id=#{userId}
	</update>
	<select id="driverAuctionList" resultType="moveApplyVO">
		select guest_idx as guestIdx,
				guest_name as guestName,
				start_addr1 as startAddr1,
				start_addr2 as startAddr2,
				start_addr3 as startAddr3,
				start_latitude as startLatitude,
				start_longitude as startLongitude,
				end_addr1 as endAddr1,
				end_addr2 as endAddr2,
				end_addr3 as endAddr3,
				end_latitude as endLatitude,
				start_longitude as endLongitude,
				apply_date as applyDate,
				apply_time as applyTime
				from move_apply_tbl
				where apply_status = 0
	</select>
	<select id="driverMoveList" resultType="moveApplyVO">
		select guest_idx as guestIdx,
				apply_date as applyDate,
				apply_time as applyTime,
				guest_name as guestName,
				guest_phone as guestPhone,
				start_addr1 as startAddr1,
				end_addr1 as endAddr1,
				apply_hope as applyHope,
				apply_status as applyStatus
				from move_apply_tbl
				where apply_status = 1 or apply_status = 2 
	</select>
</mapper>